# 瀏覽器擴充功能使用教學

本教學將帶您完成瀏覽器擴充功能的安裝和使用，讓您可以在瀏覽租屋網站時一鍵擷取物件資訊。

---

## 📦 功能介紹

這個 Chrome 瀏覽器擴充功能可以：

- 🏠 **一鍵擷取**：在租屋網站上點擊一下，自動擷取物件資訊
- 🔄 **自動同步**：擷取的資料立即同步到您的平台
- 🌐 **支援多網站**：支援 591、信義、永慶等主流租屋網站
- 📊 **智能解析**：自動解析地址、租金、房型等資料
- ⚡ **快速方便**：比手動輸入快 10 倍以上

---

## 🔧 安裝步驟

### 步驟 1：下載擴充功能

有兩種方式取得擴充功能：

#### 方法 A：從 GitHub 下載（推薦）

1. 前往 GitHub 儲存庫：
   ```
   https://github.com/simon4657/rental-property-aggregator
   ```

2. 點擊綠色的「Code」按鈕

3. 選擇「Download ZIP」

4. 解壓縮下載的檔案

5. 找到 `browser-extension` 資料夾

#### 方法 B：使用打包好的 ZIP 檔

1. 從專案中找到 `browser-extension.zip`

2. 解壓縮檔案

3. 會得到 `browser-extension` 資料夾

### 步驟 2：安裝到 Chrome

1. **開啟 Chrome 擴充功能頁面**
   - 在 Chrome 網址列輸入：`chrome://extensions/`
   - 或點擊右上角「⋮」→「更多工具」→「擴充功能」

2. **啟用開發人員模式**
   - 在頁面右上角找到「開發人員模式」開關
   - 點擊開關，確保它是**開啟**狀態（藍色）

3. **載入擴充功能**
   - 點擊左上角「載入未封裝項目」按鈕
   - 選擇剛才解壓縮的 `browser-extension` 資料夾
   - 點擊「選擇資料夾」

4. **確認安裝成功**
   - 您應該會看到「租賃物件擷取工具」出現在擴充功能列表中
   - 狀態應該是「已啟用」

5. **釘選擴充功能（建議）**
   - 點擊 Chrome 右上角的拼圖圖示（擴充功能）
   - 找到「租賃物件擷取工具」
   - 點擊圖釘圖示，將它釘選到工具列

---

## ⚙️ 設定擴充功能

### 首次設定

1. **點擊擴充功能圖示**
   - 在 Chrome 工具列找到 🏠 圖示
   - 點擊圖示開啟彈出視窗

2. **設定 API 網址**
   
   根據您的部署方式，輸入對應的網址：

   **如果使用開發環境**：
   ```
   https://3000-ix57hn8tmr90rlxwydz9t-65f1d8a4.manus-asia.computer
   ```

   **如果已部署到 Render**：
   ```
   https://your-app-name.onrender.com
   ```
   （將 `your-app-name` 替換為您在 Render 設定的名稱）

3. **儲存設定**
   - 輸入網址後，點擊「儲存」按鈕
   - 看到「設定已儲存」訊息表示成功

---

## 🎯 使用方法

### 擷取租屋物件資訊

#### 步驟 1：前往租屋網站

前往任一支援的租屋網站，例如：

- **591 租屋網**：https://rent.591.com.tw/
- **信義房屋**：https://www.sinyi.com.tw/
- **永慶房仲**：https://www.yungching.com.tw/

#### 步驟 2：開啟物件詳細頁面

1. 搜尋您感興趣的區域
2. 點擊任一物件進入詳細頁面
3. 確保頁面已完全載入

#### 步驟 3：擷取資料

1. **點擊擴充功能圖示**
   - 在工具列點擊 🏠 圖示

2. **點擊「擷取資料」按鈕**
   - 在彈出視窗中點擊「擷取當前頁面資料」按鈕

3. **等待處理**
   - 擴充功能會自動分析頁面內容
   - 擷取地址、租金、房型等資訊

4. **確認資料**
   - 擷取完成後會顯示預覽
   - 檢查資料是否正確

5. **送出到平台**
   - 點擊「送出」按鈕
   - 資料會自動加入到您的平台

#### 步驟 4：查看結果

1. 前往您的平台首頁
2. 應該可以看到剛才新增的物件
3. 如果沒有看到，請重新整理頁面

---

## 📋 擷取的資料欄位

擴充功能會自動擷取以下資訊：

| 欄位 | 說明 | 範例 |
|------|------|------|
| 公寓網址 | 物件詳細頁面網址 | https://rent.591.com.tw/... |
| 地址 | 完整地址 | 台北市大安區復興南路一段100號 |
| 縣市 | 所在縣市 | 台北市 |
| 行政區 | 所在行政區 | 大安區 |
| 樓層數 | 所在樓層/總樓層 | 5/12 |
| 租金價格 | 每月租金 | 28000 |
| 房間數 | 房型 | 2房1廳1衛 |
| 屋齡 | 建築年齡 | 15年 |
| 是否有電梯 | 電梯資訊 | 是/否 |
| 靠近捷運 | 最近的捷運站 | 捷運大安站 |
| 來源 | 資料來源網站 | 591租屋網 |

---

## 💡 使用技巧

### 1. 快速擷取多筆資料

1. 開啟多個物件詳細頁面（使用分頁）
2. 依序切換分頁並點擊「擷取資料」
3. 每個分頁擷取完成後會自動送出

### 2. 檢查重複物件

- 擴充功能會自動檢查物件網址
- 如果物件已存在，會顯示「此物件已存在」訊息
- 避免重複新增相同物件

### 3. 手動修正資料

如果自動擷取的資料不完整或錯誤：

1. 擷取後先不要送出
2. 在彈出視窗中手動修改資料
3. 確認無誤後再點擊「送出」

### 4. 批量處理

對於大量物件：

1. 先使用擴充功能擷取幾筆測試
2. 確認資料格式正確
3. 再進行批量擷取

---

## ⚠️ 注意事項

### 網站相容性

- **完全支援**：591 租屋網、信義房屋、永慶房仲
- **部分支援**：其他租屋網站（可能需要手動調整）
- **不支援**：需要登入才能查看的頁面

### 資料準確性

- 擴充功能使用智能演算法解析頁面
- 大部分情況下資料是準確的
- 建議擷取後檢查一下資料是否正確
- 如有錯誤，可在平台的管理後台手動修改

### 使用限制

- 請遵守各租屋網站的使用條款
- 不要過度頻繁擷取資料（建議間隔 3-5 秒）
- 僅供個人使用，不得用於商業爬蟲

### 隱私保護

- 擴充功能不會收集您的個人資訊
- 所有資料僅儲存在您的平台
- API 網址儲存在瀏覽器本地

---

## 🔧 疑難排解

### Q1: 擴充功能無法安裝

**解決方法**：
1. 確認使用的是 Chrome 瀏覽器（或 Edge、Brave 等 Chromium 核心瀏覽器）
2. 確認已啟用「開發人員模式」
3. 確認選擇的是正確的資料夾（`browser-extension`）
4. 嘗試重新啟動瀏覽器

### Q2: 點擊「擷取資料」沒有反應

**可能原因**：
1. 未設定 API 網址
2. API 網址錯誤
3. 平台伺服器未運行

**解決方法**：
1. 點擊擴充功能圖示，檢查 API 網址設定
2. 確認平台網址可以正常訪問
3. 開啟瀏覽器開發者工具（F12）查看 Console 錯誤訊息

### Q3: 擷取的資料不正確

**解決方法**：
1. 確認在物件詳細頁面（不是列表頁面）
2. 等待頁面完全載入後再擷取
3. 手動修正錯誤的欄位
4. 如果持續有問題，可以改用 CSV 匯入功能

### Q4: 顯示「此物件已存在」

**說明**：
- 這是正常的防重複機制
- 表示該物件網址已經在資料庫中
- 如需更新資料，請到管理後台編輯

### Q5: 無法連接到伺服器

**檢查項目**：
1. API 網址是否正確
2. 平台是否正常運行
3. 網路連線是否正常
4. 瀏覽器是否阻擋跨域請求

**解決方法**：
1. 重新設定正確的 API 網址
2. 確認平台可以在瀏覽器中正常開啟
3. 檢查瀏覽器 Console 的詳細錯誤訊息

---

## 🎨 擴充功能介面說明

### 彈出視窗

點擊擴充功能圖示後會看到：

```
┌─────────────────────────────┐
│  🏠 租賃物件擷取工具         │
├─────────────────────────────┤
│                             │
│  API 網址設定：              │
│  [___________________]      │
│  [儲存]                     │
│                             │
│  ─────────────────────      │
│                             │
│  [擷取當前頁面資料]          │
│                             │
│  狀態：就緒                  │
│                             │
└─────────────────────────────┘
```

### 擷取成功後

```
┌─────────────────────────────┐
│  ✓ 擷取成功！                │
├─────────────────────────────┤
│                             │
│  地址：台北市大安區...       │
│  租金：$28,000              │
│  房型：2房1廳1衛            │
│                             │
│  [送出到平台] [取消]         │
│                             │
└─────────────────────────────┘
```

---

## 📊 使用流程圖

```
開始
  ↓
安裝擴充功能
  ↓
設定 API 網址
  ↓
前往租屋網站
  ↓
開啟物件詳細頁面
  ↓
點擊擴充功能圖示
  ↓
點擊「擷取資料」
  ↓
檢查擷取的資料
  ↓
點擊「送出」
  ↓
資料加入平台
  ↓
完成！
```

---

## 🎯 最佳實踐

### 1. 建立收集流程

1. **早上**：瀏覽租屋網站，使用擴充功能擷取新物件
2. **中午**：在管理後台檢查和整理資料
3. **晚上**：使用篩選功能分析物件

### 2. 資料品質管理

- 擷取後立即檢查資料
- 發現錯誤立即修正
- 定期清理過期物件

### 3. 效率提升

- 使用多個分頁同時開啟物件
- 設定書籤快速訪問常用網站
- 建立 CSV 範本用於批量匯入

---

## 🔄 更新擴充功能

當有新版本時：

1. 從 GitHub 下載最新版本
2. 解壓縮到新資料夾
3. 在 `chrome://extensions/` 頁面
4. 找到舊版擴充功能，點擊「移除」
5. 重新載入新版本

---

## 📞 需要協助？

如果遇到問題：

1. **查看文件**：閱讀本教學和 `INSTALLATION.md`
2. **檢查日誌**：開啟瀏覽器開發者工具（F12）查看 Console
3. **GitHub Issues**：在專案 GitHub 提交問題
4. **聯絡支援**：透過專案聯絡方式尋求協助

---

## 🎉 開始使用

現在您已經了解如何使用瀏覽器擴充功能了！

快速步驟回顧：
1. ✅ 安裝擴充功能
2. ✅ 設定 API 網址
3. ✅ 前往租屋網站
4. ✅ 點擊擴充功能圖示
5. ✅ 擷取並送出資料

祝您收集資料愉快！🏠

